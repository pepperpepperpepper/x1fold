# Repo source: x1fold/systemd/x1fold-tty-rotate.service
[Unit]
Description=Lenovo X1 Fold TTY auto-rotate (fbcon)
After=multi-user.target dbus.service x1fold-halfblankd.service
Wants=multi-user.target dbus.service x1fold-halfblankd.service
ConditionPathExists=/sys/class/graphics/fbcon/rotate

[Service]
Type=simple
Environment=PYTHONDONTWRITEBYTECODE=1
ExecStart=/usr/local/bin/x1fold_tty_rotate.py --state-file /run/x1fold-halfblank/state.json --interval-s 1.5 --stable-s 0.8 --min-apply-s 1.0
Restart=on-failure
RestartSec=1

[Install]
WantedBy=multi-user.target

